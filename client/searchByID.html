<!DOCTYPE HTML>
<html>
    <head>
        <link rel="stylesheet" href="global.css">
    </head>
    <body>
        <input type="text" id="in" size="60">
        <button onclick="sendQuery()">send</button>
        <h2 id="result"></h3>
        <table id="products"></table>
    </body>
    


        <script>
                
                function sendQuery () {
                const q = document.getElementById("in").value
                // console.log(q.value)
                var r = new XMLHttpRequest()
                r.open('GET', 'http://localhost:8080/getByID?id='+q)
                
                r.onload = ()=> {

                    // console.log(r.responseText)
                    const result = document.getElementById("result")
                    result.innerHTML = 'Search Result'
                    const jsonObj = JSON.parse(r.responseText)
                    const table = document.getElementById("products")
                            table.innerHTML =`
                            <tr>
                                <th>#</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Price</th>
                            </tr>
                            ` 
                            table.innerHTML += `
                                <tr>
                                    <td>${1}</td>
                                    <td>${jsonObj.ID}</td>
                                    <td>${jsonObj.Name}</td>
                                    <td>${jsonObj.Price}</td>
                                </tr>
                            `
                                    }
                console.log('sending request')
                r.send()
                } 
                
        </script>
 
    

</html>


