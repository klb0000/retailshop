<!DOCTYPE HTML>
<html>
		<head>
            <link rel="stylesheet" href="global.css">
				<script>
						var r = new XMLHttpRequest()
						r.open('GET', 'http://localhost:8080/getAll')
						
						r.onload = ()=> {
                            const jsonObj = JSON.parse(r.responseText)
                            const table = document.getElementById("products")
                            table.innerHTML =`
                            <tr>
                                <th>#</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Price</th>
                            </tr>
                            `
                            for (let i = 0; i < 100; i++){
                                const MaxNameLen = 64
                                let name = jsonObj[i].Name
                                if (name.length > MaxNameLen) {
                                    name = name.slice(0, MaxNameLen)
                                }
    
                                table.innerHTML += `
                                <tr>
                                    <td>${i+1}</td>
                                    <td>${jsonObj[i].ID}</td>
                                    <td>${name}</td>
                                    <td>${jsonObj[i].Price}</td>
                                </tr>
                                `
							    console.log(jsonObj[i].ID, jsonObj[i].Name)
                            }
										}
						console.log('sending request')
						r.send()
						
				</script>
		</head>

		<body>
            <h2>ALL <br> PRODUCTS</h2>
            <table id="products">
            </table>
        </body>
</html>


